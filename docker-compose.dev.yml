# Docker Compose Override for Local Development
# Usage: docker-compose -f docker-compose.yml -f docker-compose.dev.yml up
# This file adds development-specific configurations

services:
  backend:
    volumes:
      # Mount local code for hot reload in development
      - ./backend:/app
      - static_volume:/app/staticfiles
      - media_volume:/app/media
    environment:
      - DEBUG=True
      - DB_HOST=db
      - DB_PORT=5432
      - REDIS_HOST=redis
      - REDIS_PORT=6379

  celery:
    volumes:
      # Mount local code for hot reload in development
      - ./backend:/app
      - media_volume:/app/media
    environment:
      - DEBUG=True
      - DB_HOST=db
      - DB_PORT=5432
      - REDIS_HOST=redis
      - REDIS_PORT=6379

  celery-beat:
    volumes:
      # Mount local code for hot reload in development
      - ./backend:/app
      - media_volume:/app/media
    environment:
      - DEBUG=True
      - DB_HOST=db
      - DB_PORT=5432
      - REDIS_HOST=redis
      - REDIS_PORT=6379

volumes:
  static_volume:
  media_volume:
